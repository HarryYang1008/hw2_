{"ast":null,"code":"export default class DBManager {\n  constructor() {\n    this.queryGetSessionData = () => {\n      let sessionDataString = localStorage.getItem(\"playlister-data\");\n      return JSON.parse(sessionDataString);\n    };\n\n    this.queryIsList = key => {\n      let list = localStorage.getItem(\"playlister-list-\" + key);\n      return list != null;\n    };\n\n    this.queryGetList = key => {\n      let listString = localStorage.getItem(\"playlister-list-\" + key);\n      return JSON.parse(listString);\n    };\n\n    this.mutationCreateList = list => {\n      this.mutationUpdateList(list);\n    };\n\n    this.mutationUpdateList = list => {\n      // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n      let listString = JSON.stringify(list);\n      localStorage.setItem(\"playlister-list-\" + list.key, listString);\n    };\n\n    this.mutationUpdateSessionData = sessionData => {\n      let sessionDataString = JSON.stringify(sessionData);\n      localStorage.setItem(\"playlister-data\", sessionDataString);\n    };\n\n    this.mutationDeleteList = key => {\n      if (this.queryIsList(key)) localStorage.removeItem(\"playlister-list-\" + key);\n    };\n  }\n\n}","map":{"version":3,"names":["DBManager","queryGetSessionData","sessionDataString","localStorage","getItem","JSON","parse","queryIsList","key","list","queryGetList","listString","mutationCreateList","mutationUpdateList","stringify","setItem","mutationUpdateSessionData","sessionData","mutationDeleteList","removeItem"],"sources":["C:/Users/Owner/Desktop/h2/hw2/hw/src/db/DBManager.js"],"sourcesContent":["export default class DBManager {\n    // QUERY AND MUTATION FUNCTIONS GET/SET DATA FROM/TO\n    // AN EXTERNAL SOURCE, WHICH FOR THIS APPLICATION\n    // MEANS THE BROWSER'S LOCAL STORAGE\n    queryGetSessionData = () => {\n        let sessionDataString = localStorage.getItem(\"playlister-data\");\n        return JSON.parse(sessionDataString);\n    }\n\n    queryIsList = (key) => {\n        let list = localStorage.getItem(\"playlister-list-\" + key);\n        return list != null;\n    }\n\n    /**\n     * This query asks local storage for a list with a particular key,\n     * which is then returned by this function.\n     */\n    queryGetList = (key) => {\n        let listString = localStorage.getItem(\"playlister-list-\" + key);\n        return JSON.parse(listString);\n    }\n\n    mutationCreateList = (list) => {\n        this.mutationUpdateList(list);\n    }\n\n    mutationUpdateList = (list) => {\n        // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n        let listString = JSON.stringify(list);\n        localStorage.setItem(\"playlister-list-\" + list.key, listString);\n    }\n    \n    mutationUpdateSessionData = (sessionData) => {\n        let sessionDataString = JSON.stringify(sessionData);\n        localStorage.setItem(\"playlister-data\", sessionDataString);\n    }\n\n    mutationDeleteList = (key) => {\n        if (this.queryIsList(key))\n            localStorage.removeItem(\"playlister-list-\" + key);\n    }\n}"],"mappings":"AAAA,eAAe,MAAMA,SAAN,CAAgB;EAAA;IAAA,KAI3BC,mBAJ2B,GAIL,MAAM;MACxB,IAAIC,iBAAiB,GAAGC,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAxB;MACA,OAAOC,IAAI,CAACC,KAAL,CAAWJ,iBAAX,CAAP;IACH,CAP0B;;IAAA,KAS3BK,WAT2B,GASZC,GAAD,IAAS;MACnB,IAAIC,IAAI,GAAGN,YAAY,CAACC,OAAb,CAAqB,qBAAqBI,GAA1C,CAAX;MACA,OAAOC,IAAI,IAAI,IAAf;IACH,CAZ0B;;IAAA,KAkB3BC,YAlB2B,GAkBXF,GAAD,IAAS;MACpB,IAAIG,UAAU,GAAGR,YAAY,CAACC,OAAb,CAAqB,qBAAqBI,GAA1C,CAAjB;MACA,OAAOH,IAAI,CAACC,KAAL,CAAWK,UAAX,CAAP;IACH,CArB0B;;IAAA,KAuB3BC,kBAvB2B,GAuBLH,IAAD,IAAU;MAC3B,KAAKI,kBAAL,CAAwBJ,IAAxB;IACH,CAzB0B;;IAAA,KA2B3BI,kBA3B2B,GA2BLJ,IAAD,IAAU;MAC3B;MACA,IAAIE,UAAU,GAAGN,IAAI,CAACS,SAAL,CAAeL,IAAf,CAAjB;MACAN,YAAY,CAACY,OAAb,CAAqB,qBAAqBN,IAAI,CAACD,GAA/C,EAAoDG,UAApD;IACH,CA/B0B;;IAAA,KAiC3BK,yBAjC2B,GAiCEC,WAAD,IAAiB;MACzC,IAAIf,iBAAiB,GAAGG,IAAI,CAACS,SAAL,CAAeG,WAAf,CAAxB;MACAd,YAAY,CAACY,OAAb,CAAqB,iBAArB,EAAwCb,iBAAxC;IACH,CApC0B;;IAAA,KAsC3BgB,kBAtC2B,GAsCLV,GAAD,IAAS;MAC1B,IAAI,KAAKD,WAAL,CAAiBC,GAAjB,CAAJ,EACIL,YAAY,CAACgB,UAAb,CAAwB,qBAAqBX,GAA7C;IACP,CAzC0B;EAAA;;AAAA"},"metadata":{},"sourceType":"module"}